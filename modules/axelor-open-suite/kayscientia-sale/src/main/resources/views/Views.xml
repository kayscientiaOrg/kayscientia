<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<object-views xmlns="http://axelor.com/xml/ns/object-views"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="http://axelor.com/xml/ns/object-views http://axelor.com/xml/ns/object-views/object-views_6.1.xsd">

  <form name="partner-form-kay" title="Partner" model="com.axelor.apps.base.db.Partner" width="large" onLoad="action-group-partner-onload" onSave="action-partner-group-onsave" onNew="action-group-base-partner-onnew">
    <toolbar>
      <button name="showMapBtn" title="Map" readonlyIf="!id" icon="fa-map-marker" onClick="action-partner-method-show-on-map"/>
    </toolbar>
    <menubar>
      <menu name="partnerReportsMenu" title="Reports" showTitle="true" icon="fa-files-o">
        <item name="envelopeItem" title="Envelope" readonlyIf="!id" action="save,action-partner-method-show-envelope"/>
        <item if-module="axelor-account" name="customerSituationItem" title="Customer Situation" showIf="isCustomer" readonlyIf="!id" action="save,action-partner-method-show-client-situation"/>
      </menu>
    </menubar>
    <panel-include view="incl-event-actions-partner-form"/>
    <panel name="mainPanel">
      <panel name="imagePanel" colSpan="2">
        <field name="picture" showTitle="false" colSpan="12" widget="Image">
          <viewer><![CDATA[
	    <div>
   			<img width="80%" ng-show="record.picture" ng-src="{{$image('picture', 'content')}}" />
      					<img width="80%" ng-show="!record.picture && record.partnerTypeSelect != 2" src="img/company-default.jpg" />
      					<img width="80%" ng-show="!record.picture && record.partnerTypeSelect == 2 && record.titleSelect == 1" src="img/partner-m-default.png" />
      					<img width="80%" ng-show="!record.picture && record.partnerTypeSelect == 2 && record.titleSelect == 2" src="img/partner-w-default.png" />
    					<img width="80%" ng-show="!record.picture && record.partnerTypeSelect == 2 && (record.titleSelect > 2 || !record.titleSelect)" src="img/partner-default.png" />
 					</div>
      ]]></viewer>
        </field>
        <panel name="socialNetworkPanel" showIf="fullName != null" colSpan="12">
          <label name="googleLabel" title="&lt;a class='fa fa-google' href='http://www.google.com' target='_blank' />" colSpan="2"/>
          <label name="facebookLabel" title="&lt;a class='fa fa-facebook' href='http://www.facebook.com' target='_blank' />" colSpan="2"/>
          <label name="twitterLabel" title="&lt;a class='fa fa-twitter' href='http://www.twitter.com' target='_blank' />" colSpan="2"/>
          <label name="linkedinLabel" title="&lt;a class='fa fa-linkedin' href='http://www.linkedin.com' target='_blank' />" colSpan="2"/>
          <label name="youtubeLabel" title="&lt;a class='fa fa-youtube' href='http://www.youtube.com' target='_blank' />" colSpan="2"/>
        </panel>
      </panel>
      <panel name="generalInfoPanel" colSpan="10">
        <panel name="partnerInfoPanel" colSpan="12">
          <field name="simpleFullName" showTitle="false" colSpan="7" css="label-bold bold large">
            <hilite color="primary" strong="true" if="true"/>
            <editor x-show-titles="false">
              <field name="partnerTypeSelect" showTitle="false" colSpan="12" placeholder="Partner Type" onChange="action-partner-group-type-select-onchange"/>
              <panel name="companyPartnerNamePanel" showIf="partnerTypeSelect == 1" colSpan="12">
                <field name="name" showTitle="false" colSpan="12" css="highlight" placeholder="Name" onChange="action-group-base-partner-contact-name-onchange"/>
              </panel>
              <panel name="individualPartnerNamePanel" showIf="partnerTypeSelect == 2" colSpan="12">
                <field name="titleSelect" showTitle="false" colSpan="2" placeholder="Civility"/>
                <field name="name" showTitle="false" colSpan="5" css="highlight" placeholder="First name" onChange="action-group-base-partner-contact-name-onchange"/>
                <field name="firstName" showTitle="false" colSpan="5" css="highlight" placeholder="Last name" onChange="action-group-base-partner-contact-name-onchange"/>
              </panel>
            </editor>
          </field>
          <field name="partnerSeq" showTitle="false" colSpan="2" css="label-bold bold large"/>
          <button if="__config__.app.isApp('account')" name="$positiveBalanceBtn" title="Balance" showIf="id" colSpan="3" icon="fa-balance-scale" onClick="action-partner-view-show-move-lines" widget="info-button"/>
          <field name="$balance" hidden="true"/>
          <static name="duplicatePartnerText" hidden="true" colSpan="12"><![CDATA[
        <span class='label label-warning'>There is already a partner with this name.</span>]]></static>
          <field name="fullName" hidden="true"/>
        </panel>

        <field name="isProspect" hideIf="isContact || $readonly()" colSpan="2" widget="InlineCheckbox" onChange="action-partner-group-unset-customer,action-partner-record-unset-factor"/>
        <field name="isEmployee" hideIf="$readonly() || isCustomer || isSupplier || isCarrier || isFactor || partnerTypeSelect != 2" colSpan="2" widget="InlineCheckbox" onChange="action-partner-account-attrs-hide-employee-account,action-partner-record-unset-factor"/>
        <field name="isCustomer" hideIf="isContact || $readonly() || isEmployee" colSpan="2" widget="InlineCheckbox" onChange="action-partner-group-check-can-change-customer,action-partner-record-invoices-copy-default-value,action-partner-account-attrs-hide-customer-account,action-partner-attrs-unset-prospect,action-partner-record-unset-factor"/>
        <field name="isSupplier" hideIf="isContact || $readonly() || isEmployee" colSpan="2" widget="InlineCheckbox" onChange="action-partner-group-check-can-change-supplier,action-partner-account-attrs-hide-supplier-account,action-partner-record-unset-factor"/>
        <field if="__config__.app.getApp('production')?.getManageOutsourcing()" if-module="axelor-production" name="isSubcontractor" hideIf="$readonly()" colSpan="2" widget="InlineCheckbox"/>

        <field name="isContact" hidden="true" colSpan="12"/>

        <panel name="blockingPanel" hideIf="!$readonly()" colSpan="3" colOffset="9">
          <field name="$activeBlockings" showTitle="false" colSpan="12">
            <viewer><![CDATA[
                        <h4 style="text-align: right;">
                            <span ng-repeat="item in record.blockingList" class="label label-important" style="margin: 5px 0 !important; display: inline-table; line-height: initial;" ng-show="$moment(item.blockingToDate) > $moment(today)">
                            	<i class="fa fa-ban"/>
                            	<span x-translate>{{ {'1':'Remin._block','2':'Inv._block','3':'Reimb._block','4':'Debit_block','5':'Sale_block','6':'Purch._block'}[item.blockingSelect] }}</span>
                            	<!-- hidden spans only there for translation purposes -->
                            	<span x-translate style="display:none">Remin._block</span>
                            	<span x-translate style="display:none">Inv._block</span>
                            	<span x-translate style="display:none">Reimb._block</span>
                            	<span x-translate style="display:none">Debit_block</span>
                            	<span x-translate style="display:none">Sale_block</span>
                            	<span x-translate style="display:none">Purch._block</span>
                            	<i class="fa fa-caret-right" style="margin: 0 4px;"/>
                            	{{ $fmt('item.blockingToDate') }}
                            </span>
                        </h4>
                    ]]></viewer>
          </field>
        </panel>
        <field name="$customerCantBeRemoved" hidden="true" showIf="false" type="boolean"/>
        <field name="$supplierCantBeRemoved" hidden="true" showIf="false" type="boolean"/>
        <field name="$factorCantBeRemoved" hidden="true" showIf="false" type="boolean"/>
      </panel>
    </panel>

    <panel name="partnerDetailsPanel" title="Partner Details" hideIf="isEmployee" colSpan="12">
      <panel name="partnerCategoryPanel" colSpan="6">
        <field name="language" colSpan="6" canEdit="false"/>
        <field name="currency" colSpan="6" canEdit="false"/>
        <field name="source" colSpan="6" widget="SuggestBox" canEdit="false" form-view="source-form" grid-view="source-grid"/>
        <field name="partnerCategory" colSpan="6" widget="SuggestBox" form-view="partner-category-form" grid-view="partner-category-grid"/>
        <field name="industrySector"  colSpan="6" widget="SuggestBox"/>
        <field name="department"  colSpan="6"/>
      </panel>
      <panel name="functionPanel"  colSpan="6">
        <field name="fixedPhone" colSpan="6" widget="phone" x-initial-country="PK" x-placeholder-number-type="FIXED_LINE"/>
        <field name="mobilePhone"  x-initial-country="PK" colSpan="6" widget="phone"/>
        <field name="emailAddress" colSpan="6" canSelect="false" form-view="email-address-simple-form" x-show-icons="false">
          <editor x-show-titles="false">
            <field name="address" colSpan="12" placeholder="whatever@example.com" pattern="^[a-z0-9A-ZáàâäãåçéèêëíìîïñóòôöõúùûüýÿæœÁÀÂÄÃÅÇÉÈÊËÍÌÎÏÑÓÒÔÖÕÚÙÛÜÝŸÆŒ!#$%&amp;'*+/=?^_`{|}~-]+(?:\.[a-z0-9A-ZáàâäãåçéèêëíìîïñóòôöõúùûüýÿæœÁÀÂÄÃÅÇÉÈÊËÍÌÎÏÑÓÒÔÖÕÚÙÛÜÝŸÆŒ!#$%&amp;'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+(?:[a-z]{2,})$"/>
          </editor>
        </field>
        <field name="webSite" placeholder="http://www.url.com" widget="url" pattern="^(?:http(?:s)?://)?\S+(?:\.\S+)+$"/>
        <field name="taxNbr" />
        <field name="idNumber" />
        <field name="vatNumber" />
      </panel>
    </panel>


    <panel-related name="contactPartnerSetPanel" title="Other Contacts" hideIf="!id" field="contactPartnerSet" form-view="partner-contact-form" grid-view="partner-contact-grid" domain="self.isContact = 'true' AND self in (SELECT p FROM Partner p join p.companySet c where c in :companySet)"/>



    <panel-tabs name="mainPanelTab">
      <panel name="informationPanel" title="Information">

        <panel name="employeeAddressPanel" title="Contact address" showIf="isEmployee" colSpan="12">

          <field name="mainAddress" form-view="address-form" grid-view="address-grid">
            <editor x-show-titles="false">
              <field name="addressL2" placeholder="e.g. Financial department, CEO" x-bind="{{addressL2|uppercase}}"/>
              <field name="addressL3" placeholder="e.g. Building A, Entry 2, 2nd Floor, Door 2E" x-bind="{{addressL3|uppercase}}"/>
              <field name="addressL4" x-bind="{{addressL4|uppercase}}"/>
              <field name="addressL5" placeholder="e.g. POB 254" x-bind="{{addressL5|uppercase}}"/>
              <field name="city" canNew="true" onChange="action-address-change-city" form-view="city-form" grid-view="city-grid"/>
              <field name="addressL6" required="true" x-bind="{{addressL6|uppercase}}"/>
              <field name="addressL7Country" required="true" form-view="country-form" grid-view="country-grid"/>
            </editor>
          </field>

        </panel>

        <panel name="postalAddressesPanel" title="Postal addresses" hideIf="isEmployee" colSpan="12">
          <static name="invoiceAndDeliveryAddressText" hidden="true" colSpan="12"><![CDATA[
        <span class='label label-warning'>Please add an invoice address and a delivery address by default.</span>]]></static>

          <field name="partnerAddressList" colSpan="12" form-view="partner-address-form" grid-view="partner-address-grid">
            <editor onNew="action-partner-address-attrs-set-canselect" x-show-titles="false">
              <panel colSpan="12" css="field-append">
                <field name="$canSelect" hidden="true" colSpan="12"/>
                <label name="addressHelperLabel" title="The following address is invalid. Please use '+' button to create a new one :" hidden="true" showIf="address == null || address.addressL4 == null" colSpan="12" css="label-bold"/>
                <panel colSpan="12" css="field-append" stacked="true">
                  <field name="address" canSelect="$canSelect" canNew="true" canEdit="!$canSelect" required="true" form-view="address-form" grid-view="address-grid"/>
                  <field name="isInvoicingAddr" hideIf="$readonly()" widget="toggle" x-icon="fa-list-alt"/>
                  <field name="isDeliveryAddr" hideIf="$readonly()" widget="toggle" x-icon="fa-shopping-cart"/>
                  <field name="isDefaultAddr" hideIf="$readonly()" widget="toggle" x-icon="fa-star-o"/>
                  <field name="address.addressL4" hidden="true"/>
                </panel>

              </panel>

            </editor>

          </field>
          <spacer/>
          <field if="__user__.activeCompany?.accountConfig?.displayHeadOfficeAddrOnInvoicePrinting" name="headOfficeAddress" colSpan="12"/>
        </panel>


        <panel name="employeePanel" hidden="true">
          <button name="openEmployeeFormBtn" title="Open employee form" colSpan="6" onClick="action-partner-view-open-employee-form"/>
        </panel>
        <panel name="settingsPanel" title="Settings" colSpan="12">
          <field if="__config__.app.getApp('base')?.getIsRegroupProductsOnPrintings()" name="groupProductsOnPrintings" showIf="(isCustomer || isSupplier)" colSpan="12" widget="boolean-switch"/>
          <panel name="assignedToPanel" title="Assigned to" colSpan="12">
            <field name="user" hideIf="isEmployee" colSpan="6" canNew="false" canView="false" canEdit="false" onSelect="action-partner-attrs-user-group" form-view="user-form" grid-view="user-grid"/>
            <field if="__config__.app.getApp('base')?.getTeamManagement()" name="team" hideIf="isEmployee" colSpan="6" canEdit="false" form-view="team-form" grid-view="team-grid"/>
            <field name="companySet" colSpan="12" widget="TagSelect" canNew="false" form-view="company-form" grid-view="company-grid"/>
          </panel>
        </panel>
        <panel name="notesPanel" title="Notes" colSpan="12">
          <field name="description" showTitle="false" colSpan="12" height="8" widget="Html"/>
        </panel>
      </panel>


      <panel-related name="partnerRoleSetPanel" showIf="isContact || partnerTypeSelect == 2" field="partnerRoleSet" form-view="partner-role-form" grid-view="partner-role-grid" canNew="false"/>

      <panel if="__config__.app.isApp('invoice')" if-module="axelor-account" name="paymentPanel" title="Invoicing/Payment" hideIf="isContact" colSpan="12">
        <panel-include view="incl-invoice-payment-partner-form"/>
        <panel-include if="__config__.app.isApp('account') &amp;&amp; __config__.app.getApp('bank-payment')?.manageDirectDebitPayment" if-module="axelor-account" view="incl-sepa-direct-debit-partner-form"/>
        <panel name="invoiceCommentsPanel" title="Comment to display on invoice" colSpan="12">
          <field name="invoiceComments" showTitle="false" colSpan="12" widget="html"/>
        </panel>
        <panel name="descriptionToDisplayOnProformaPanel" title="Comment to display on proforma" colSpan="12">
          <field name="proformaComments" showTitle="false" colSpan="12" widget="html"/>
        </panel>
      </panel>
      <panel-related if="__config__.app.isApp('account')" if-module="axelor-account" name="accountingSituationListPanel" title="Accounting situation" hideIf="isContact" colSpan="12" field="accountingSituationList" form-view="accounting-situation-partner-form" grid-view="accounting-situation-partner-grid" onSelect="action-account-accounting-situation-method-update-customer-account"/>
      <panel-include if="__config__.app.isApp('account')" if-module="axelor-account" view="incl-blocking-partner-form"/>
      <panel if="__config__.app.isApp('crm')" if-module="axelor-crm" name="eventPanel" title="Events" showIf="id != null" hideIf="isEmployee">
        <button name="meetingBtn" title="Create a meeting" colSpan="3" icon="fa-pencil-square-o" link="" onClick="save,action-partner-view-meeting-event"/>
        <button name="callBtn" title="Create a call" colSpan="3" icon="fa-phone" link="" onClick="save,action-partner-view-call-event"/>
        <button name="taskBtn" title="Create a task" colSpan="3" icon="fa-tasks" link="" onClick="save,action-partner-view-task-event"/>
        <button name="noteBtn" title="Create a note" colSpan="3" icon="fa-sticky-note-o" link="" onClick="save,action-partner-view-note-event"/>
        <button name="showAllEventsBtn" title="Show all events" readonlyIf="id == null" css="btn-custom text-left" icon="fa-tasks" onClick="action-partner-view-events"/>
        <panel-include view="incl-activities-partner-form"/>
      </panel>
      <panel if="__config__.app.isApp('crm')" if-module="axelor-crm" name="opportunitiesPanel" title="Opportunities" showIf="id != null" hideIf="isEmployee">
        <button name="createOpportunityBtn" title="Create opportunity" colSpan="3" link="" onClick="save,action-partner-view-create-opportunity"/>
        <panel-include view="incl-opportunities-partner-form"/>
      </panel>
      <panel if="__config__.app.isApp('crm')" if-module="axelor-crm" name="emailPanel" title="Emails" showIf="id != null" hideIf="isEmployee">
        <button name="emailBtn" title="Create an email" colSpan="3" icon="fa-envelope-o" link="" onClick="save,action-send-by-email-with-template"/>
        <panel-dashlet name="sentEmailsPanel" title="Sent emails" colSpan="12" height="550" action="action-partner-method-view-sent-emails"/>
        <panel-dashlet name="receivedEmailsPanel" title="Received emails" colSpan="12" height="550" action="action-partner-method-view-received-emails"/>
      </panel>
      <panel if="__config__.app.isApp('marketing')" if-module="axelor-crm" name="marketingCampaignPanel" title="Marketing campaigns" showIf="id != null" hideIf="isEmployee">
        <panel-dashlet name="marketingCampaignsPanel" colSpan="12" height="800" action="action-partner-view-marketing-campaigns"/>
      </panel>
      <panel if="__config__.app.isApp('sale')" if-module="axelor-sale" name="customerPanel" title="Customer" showIf="isCustomer">
        <field name="saleOrderInformation"/>
        <field if="__config__.app.isApp('account')" if-module="axelor-account" name="payerQuality" hideIf="isEmployee"/>
        <field name="salePartnerPriceList" canEdit="false" domain="self.typeSelect = 1" form-view="sale-partner-price-list-form" grid-view="partner-price-list-grid"/>
        <field if="__config__.app.isApp('business-project')" if-module="axelor-business-project" name="chargeBackPurchaseSelect" colSpan="3"/>
        <field if="__config__.app.isApp('business-project')" if-module="axelor-business-project" name="chargeBackPurchase" showIf="chargeBackPurchaseSelect == 3" colSpan="3"/>
        <panel if="__config__.app.isApp('portal') &amp;&amp; __config__.app.getApp('portal')?.getPortalSelect() == 2" if-module="axelor-client-portal" name="clientPortalAccessPanel" title="Client portal access">
          <field name="password" widget="password"/>
        </panel>
        <field if="__config__.app.isApp('account') &amp;&amp; __config__.app.getApp('account')?.getManageFactors()" name="factorizedCustomer"/>
        <field if="__config__.app.isApp('sale') &amp;&amp; __config__.app.getApp('sale')?.getEnableCustomerCatalogMgt()" if-module="axelor-sale" name="customerCatalogList" colSpan="12" form-view="customer-catalog-partner-form" grid-view="customer-catalog-partner-grid"/>
        <panel name="accountblockedPanel">
          <field name="hasBlockedAccount" onChange="action-attrs-update-manually-blocked-account"/>
          <field name="hasManuallyBlockedAccount" hidden="true"/>
        </panel>
        <panel name="saleOrderCommentsPanel" title="Comment to display on sale order" colSpan="12">
          <field name="saleOrderComments" showTitle="false" colSpan="12" widget="html"/>
        </panel>
        <panel if="__config__.app.isApp('sale')" if-module="axelor-sale" name="saleOrderPanel" colSpan="12">
          <button name="createSaleOrderBtn" title="Create sale quotation" showIf="isProspect || isCustomer" readonlyIf="id == null || id &lt; 1" colSpan="4" onClick="save,action-partner-view-create-order"/>
          <panel-include view="incl-sales-partner-form"/>
        </panel>
      </panel>
      <panel if="__config__.app.isApp('purchase')" if-module="axelor-purchase" name="supplierPanel" title="Supplier" showIf="isSupplier || isSubcontractor">
        <field name="purchaseOrderInformation"/>
        <field name="purchasePartnerPriceList" canEdit="false" domain="self.typeSelect = 2" form-view="purchase-partner-price-list-form" grid-view="partner-price-list-grid"/>
        <field if="__config__.app.isApp('purchase') &amp;&amp; __config__.app.getApp('purchase')?.getManageSupplierCatalog()" if-module="axelor-purchase" name="supplierCatalogList" colSpan="12" form-view="supplier-catalog-partner-form" grid-view="supplier-catalog-partner-grid" x-can-copy="true"/>
        <field name="supplierQualityRating" hidden="true"/>
        <field name="supplierQualityRatingSelect" colSpan="3" widget="ImageSelect" onChange="action-record-set-supplier-quality-rating" x-labels="false"/>
        <field name="supplierArrivalProductQty" colSpan="3"/>
        <spacer name="supplierSpacer"/>
        <field name="partnerProductQualityRatingList" colSpan="12" form-view="partner-product-quality-rating-form" grid-view="partner-product-quality-rating-grid"/>
        <panel name="purchaseOrderCommentsPanel" title="Comment to display on purchase order" colSpan="12">
          <field name="purchaseOrderComments" showTitle="false" colSpan="12" widget="html"/>
        </panel>
        <panel if="__config__.app.isApp('purchase')" if-module="axelor-purchase" name="purchaseOrderPanel" colSpan="12">
          <button name="createPurchaseOrderBtn" title="Create purchase quotation" showIf="isSupplier" readonlyIf="id == null || id &lt; 1" colSpan="4" onClick="save,action-partner-view-create-purchase-quotation"/>
          <panel-include view="incl-purchases-partner-form"/>
        </panel>
      </panel>
      <panel name="carrierPanel" title="Carrier" showIf="isCarrier">
        <field name="freightCarrierModeList" colSpan="12" form-view="freight-carrier-mode-freight-carrier-form" grid-view="freight-carrier-mode-freight-carrier-grid"/>
      </panel>
      <panel if="__config__.app.isApp('stock')" if-module="axelor-stock" name="deliveryPanel" title="Delivery" showIf="isSupplier || isCustomer || isSubcontractor">
        <field name="deliveryDelay" showIf="isSupplier || isSubcontractor"/>
        <spacer name="deliveryDelaySpacer"/>
        <field name="shipmentMode" title="Shipment Mode" onChange="action-partner-record-empty-freight-carrier-mode" form-view="shipment-mode-form" grid-view="shipment-mode-grid"/>
        <field name="freightCarrierMode" readonlyIf="shipmentMode == null" onChange="action-partner-record-freight-carrier" domain="self.shipmentMode = :shipmentMode" form-view="freight-carrier-mode-form" grid-view="freight-carrier-mode-grid"/>
        <field name="carrierPartner" title="Freight Carrier" readonly="true" form-view="partner-form" grid-view="partner-grid"/>
        <field name="isIspmRequired" hidden="true" showIf="isCustomer || isProspect"/>
        <field name="isNeedingConformityCertificate" showIf="isCustomer || isProspect"/>
        <field name="partnerStockSettingsList" colSpan="12" form-view="partner-stock-settings-form" grid-view="partner-stock-settings-grid"/>
        <panel-include view="incl-freight-carrer-customer-account-number-list-partner-form"/>
        <panel name="deliveryCommentsPanel" title="Comment to display on delivery" colSpan="12">
          <field name="deliveryComments" showTitle="false" colSpan="12" widget="html"/>
        </panel>
        <panel name="pickingOrderCommentsPanel" title="Comment to display on picking order" colSpan="12">
          <field name="pickingOrderComments" showTitle="false" colSpan="12" widget="html"/>
        </panel>
      </panel>
    </panel-tabs>
    <panel name="partnerAttrsPanel">
      <field name="partnerAttrs" colSpan="12"/>
    </panel>
    <panel-mail name="mailsPanel">
      <mail-messages limit="4"/>
      <mail-followers/>
    </panel-mail>
  </form>


  <cards  name="partner-cards-kay" title="Partners" css="rect-image" model="com.axelor.apps.base.db.Partner">
    <toolbar>
      <button name="printPhoneBookBtn" title="Contact PhoneBook" icon="fa-print" onClick="action-print-phonebook"/>
      <button if="__config__.app.isApp('employee')" name="printCompanyPhoneBookBtn" title="Company PhoneBook" icon="fa-print" onClick="action-print-company-phonebook"/>
      <button name="checkDuplicateBtn" title="Check Duplicate" onClick="action-general-check-duplicate-records"/>
      <button name="replaceDuplicateBtn" title="Merge duplicated" onClick="action-validate-select-object-message,action-duplicate-object-wizard-open"/>
      <button name="advancedExportBtn" title="Advanced export" onClick="action-method-advanced-export-wizard-view"/>
    </toolbar>
    <field name="fullName"/>
    <field name="picture"/>
    <field name="fixedPhone"/>
    <field name="emailAddress.address" title="Email"/>
    <field name="partnerCategory"/>
    <field name="partnerTypeSelect"/>
    <field name="titleSelect"/>
    <field name="mainAddress"/>
    <field name="isProspect"/>
    <field name="isEmployee"/>
    <field name="isCustomer"/>
    <field name="isSupplier"/>
    <field name="isSubcontractor"/>
    <field name="isFactor"/>
    <field name="isCarrier"/>
    <field name="leadScoringSelect"/>
    <template><![CDATA[
	<div>
		<div class="span12"><strong>{{fullName}}</strong></div>
 	</div>
	<div>
	  <div class="span4 card-image" style="width: 128px; height: 64px;">
              <img ng-show="picture" ng-src="{{$image('picture', 'content')}}" style="width: 100%; height: 100%; object-fit: contain;"/>
              <img ng-show="!picture && partnerTypeSelect != 2" src="img/company-default.jpg" />
              <img ng-show="!picture && partnerTypeSelect == 2 && titleSelect == 1" src="img/partner-m-default.png" />
              <img ng-show="!picture && partnerTypeSelect == 2 && titleSelect == 2" src="img/partner-w-default.png" />
              <img ng-show="!picture && partnerTypeSelect == 2 && (titleSelect > 2 || !titleSelect)" src="img/partner-default.png" />
	  </div>
	  <div class="span8">
	  	<address>
	  	{{mainAddress.fullName}}
	  	</address>
	    <span>
	    {{fixedPhone}}<br/>
	    {{emailAddress.address}}<br/>
	    {{partnerCategory.name}}<br/>
	    <span ng-show="record.isProspect">
	    	<span ng-show="!record.leadScoringSelect"><i class='fa fa-star-o' style='color:#FFD700; font-size:25px;'></i><i class='fa fa-star-o' style='color:#FFD700; font-size:25px;'></i><i class='fa fa-star-o' style='color:#FFD700; font-size:25px;'></i><i class='fa fa-star-o' style='color:#FFD700; font-size:25px;'></i><i class='fa fa-star-o' style='color:#FFD700; font-size:25px;'></i></span>
        			<span ng-show="record.leadScoringSelect && leadScoringSelect == 1.00"><i class='fa fa-star' style='color:#FFD700; font-size:25px;'></i><i class='fa fa-star-o' style='color:#FFD700; font-size:25px;'></i><i class='fa fa-star-o' style='color:#FFD700; font-size:25px;'></i><i class='fa fa-star-o' style='color:#FFD700; font-size:25px;'></i><i class='fa fa-star-o' style='color:#FFD700; font-size:25px;'></i></span>
        			<span ng-show="record.leadScoringSelect && leadScoringSelect == 2.00"><i class='fa fa-star' style='color:#FFD700; font-size:25px;'></i><i class='fa fa-star' style='color:#FFD700; font-size:25px;'></i><i class='fa fa-star-o' style='color:#FFD700; font-size:25px;'></i><i class='fa fa-star-o' style='color:#FFD700; font-size:25px;'></i><i class='fa fa-star-o' style='color:#FFD700; font-size:25px;'></i></span>
        			<span ng-show="record.leadScoringSelect && leadScoringSelect == 3.00"><i class='fa fa-star' style='color:#FFD700; font-size:25px;'></i><i class='fa fa-star' style='color:#FFD700; font-size:25px;'></i><i class='fa fa-star' style='color:#FFD700; font-size:25px;'></i><i class='fa fa-star-o' style='color:#FFD700; font-size:25px;'></i><i class='fa fa-star-o' style='color:#FFD700; font-size:25px;'></i></span>
        			<span ng-show="record.leadScoringSelect && leadScoringSelect == 4.00"><i class='fa fa-star' style='color:#FFD700; font-size:25px;'></i><i class='fa fa-star' style='color:#FFD700; font-size:25px;'></i><i class='fa fa-star' style='color:#FFD700; font-size:25px;'></i><i class='fa fa-star' style='color:#FFD700; font-size:25px;'></i><i class='fa fa-star-o' style='color:#FFD700; font-size:25px;'></i></span>
        			<span ng-show="record.leadScoringSelect && leadScoringSelect == 5.00"><i class='fa fa-star' style='color:#FFD700; font-size:25px;'></i><i class='fa fa-star' style='color:#FFD700; font-size:25px;'></i><i class='fa fa-star' style='color:#FFD700; font-size:25px;'></i><i class='fa fa-star' style='color:#FFD700; font-size:25px;'></i><i class='fa fa-star' style='color:#FFD700; font-size:25px;'></i></span>
    			</span><br/>
	    <h4 style="text-align: right;">
			<span class="label label-default" style="background-color: #FC6355; margin: 5px 0 !important; display: inline-table; line-height: initial;" ng-show="record.isProspect" x-translate>Prospect</span>
			<span class="label label-default" style="background-color: #5680FC; margin: 5px 0 !important; display: inline-table; line-height: initial;" ng-show="record.isEmployee" x-translate>Employee</span>
			<span class="label label-default" style="background-color: #EF9D3F; margin: 5px 0 !important; display: inline-table; line-height: initial;" ng-show="record.isCustomer" x-translate>Customer</span>
			<span class="label label-default" style="background-color: #7D54FC; margin: 5px 0 !important; display: inline-table; line-height: initial;" ng-show="record.isSupplier" x-translate>Supplier</span>
			<span class="label label-default" style="background-color: #000080; margin: 5px 0 !important; display: inline-table; line-height: initial;" ng-show="record.isSubcontractor && record.$isSubcontractor" x-translate>Subcontractor</span>
			<span class="label label-default" style="background-color: #54FC62; margin: 5px 0 !important; display: inline-table; line-height: initial;" ng-show="record.isFactor" x-translate>Factor</span>
			<span class="label label-default" style="background-color: #FF0000; margin: 5px 0 !important; display: inline-table; line-height: initial;" ng-show="record.isCarrier" x-translate>Carrier</span>
		</h4>
	  </div>
	</div>

  ]]></template>
  </cards>


  <grid name="partner-grid-kay" title="Customers" model="com.axelor.apps.base.db.Partner" orderBy="name" edit-icon="true">
    <menubar>
      <menu name="partnerReportsMenu" title="Reports" showTitle="true" icon="fa-files-o">
        <item name="contactPhoneBookItem" title="Contact PhoneBook" action="action-print-phonebook"/>
        <item if="__config__.app.isApp('employee')" name="companyPhoneBookItem" title="Company phoneBook" action="action-print-company-phonebook"/>
      </menu>
      <menu name="partnerToolsMenu" title="Tools" showTitle="true" icon="fa-wrench">
        <item name="checkDuplicateItem" title="Check Duplicate" action="action-general-check-duplicate-records"/>
        <item name="mergeDuplicatedItem" title="Merge duplicated" action="action-validate-select-object-message,action-duplicate-object-wizard-open"/>
      </menu>
    </menubar>
    <field name="partnerSeq" width="120"/>
    <field name="simpleFullName" width="300"/>
    <field name="fixedPhone" widget="phone" x-placeholder-number-type="FIXED_LINE"/>
    <field name="emailAddress.address" title="Email" placeholder="whatever@example.com"/>
    <field name="partnerCategory" form-view="partner-category-form" grid-view="partner-category-grid"/>
    <field name="user"/>
    <field if="__config__.app.getApp('base')?.getEnableMultiCompany()" name="companyStr"/>
    <button if="__config__.app.isApp('crm')" if-module="axelor-crm" name="scheduleEventBtn" title="Schedule Event" icon="fa-group" onClick="action-partner-view-schedule-event"/>
    <button if="__config__.app.isApp('crm')" if-module="axelor-crm" name="sendByEmailBtn" title="Send Email" icon="fa-envelope" onClick="action-send-by-email-with-template"/>
  </grid>




</object-views>
